{"remainingRequest":"/home/encima/.nvm/versions/node/v11.0.0/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/encima/dev/uzh/shared-components/src/components/SubmitButton.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/encima/dev/uzh/shared-components/src/components/SubmitButton.vue","mtime":1573386383384},{"path":"/home/encima/dev/uzh/shared-components/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/encima/dev/uzh/shared-components/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/encima/.nvm/versions/node/v11.0.0/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge21hcFN0YXRlfSBmcm9tICd2dWV4JwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlN1Ym1pdEJ1dHRvbiIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGJ1dHRvbldpZHRoOiB1bmRlZmluZWQKICAgICAgICB9CiAgICB9LAogICAgcHJvcHM6IHsKICAgICAgICBkaXNhYmxlZDogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgc3VibWlzc2lvbkluZm86IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9LAogICAgICAgIGluZm9NZXNzYWdlOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogJ1RoYW5rIHlvdSB2ZXJ5IG11Y2ghJwogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKHsKICAgICAgICAgICAgbGFuZ3VhZ2U6IHN0YXRlID0+IHN0YXRlLnNldHRpbmdzLmxhbmd1YWdlCiAgICAgICAgfSkKICAgIH0sCiAgICB3YXRjaDogewogICAgICAgIHN1Ym1pc3Npb25JbmZvKCB0bywgZnJvbSApIHsKICAgICAgICAgICAgaWYoIHRvICkgewogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5zdWJtaXRCdXR0b24uc3R5bGUud2lkdGggPSB0aGlzLiRyZWZzLmluZm8uY2xpZW50V2lkdGgrJ3B4JzsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc3VibWl0QnV0dG9uLnN0eWxlLndpZHRoID0gdGhpcy5idXR0b25XaWR0aCsncHgnOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBsYW5ndWFnZSgpIHsKICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHNlbGYuc2V0QnV0dG9uV2lkdGgoKTsKICAgICAgICAgICAgfSwgMTAgKTsKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzZWxmLnNldEJ1dHRvbldpZHRoKCk7CiAgICAgICAgfSApOwogICAgICAgIHRoaXMuc2V0QnV0dG9uV2lkdGgoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgc2V0QnV0dG9uV2lkdGgoKSB7CiAgICAgICAgICAgIGlmKCB0aGlzLiRyZWZzLnN1Ym1pdEJ1dHRvbiAmJiAhdGhpcy5zdWJtaXNzaW9uSW5mbyApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc3VibWl0QnV0dG9uLnN0eWxlLndpZHRoID0gJ2F1dG8nOwogICAgICAgICAgICAgICAgaWYoIHRoaXMuJHJlZnMuc3VibWl0QnV0dG9uLnN0eWxlLndpZHRoID4gMCApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbldpZHRoID0gdGhpcy4kcmVmcy5zdWJtaXRCdXR0b24uY2xpZW50V2lkdGg7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5zdWJtaXRCdXR0b24uc3R5bGUud2lkdGggPSB0aGlzLmJ1dHRvbldpZHRoKydweCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHN1Ym1pdCgpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xpY2snKTsKICAgICAgICB9LAogICAgICAgIGZvY3VzKCl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmb2N1cycpOwogICAgICAgICAgICB0aGlzLiRyZWZzLnN1Ym1pdEJ1dHRvbi5mb2N1cygpOwogICAgICAgIH0KICAgIH0sCn0K"},{"version":3,"sources":["SubmitButton.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SubmitButton.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <button class=\"button button-primary submit-button\" :disabled=\"disabled\" @click=\"submit\" :class=\"{showInfoMessage: submissionInfo}\" ref=\"submitButton\">\n        <span><slot></slot></span>\n        <div class=\"button-group\">\n            <div class=\"info button button-primary button-icon\" ref=\"info\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z\"></path></svg>\n                {{infoMessage}}\n            </div>\n        </div>\n    </button>\n</template>\n\n<script>\n\n    import {mapState} from 'vuex'\n\n    export default {\n        name: \"SubmitButton\",\n        data() {\n            return {\n                buttonWidth: undefined\n            }\n        },\n        props: {\n            disabled: {\n                type: Boolean,\n                default: false\n            },\n            submissionInfo: {\n                type: Boolean,\n                default: false\n            },\n            infoMessage: {\n                type: String,\n                default: 'Thank you very much!'\n            }\n        },\n        computed: {\n            ...mapState({\n                language: state => state.settings.language\n            })\n        },\n        watch: {\n            submissionInfo( to, from ) {\n                if( to ) {\n                    this.$refs.submitButton.style.width = this.$refs.info.clientWidth+'px';\n                }\n                else {\n                    this.$refs.submitButton.style.width = this.buttonWidth+'px';\n                }\n            },\n            language() {\n                let self = this;\n                setTimeout( function() {\n                    self.setButtonWidth();\n                }, 10 );\n            }\n        },\n        mounted() {\n            let self = this;\n            window.addEventListener('resize', function() {\n                self.setButtonWidth();\n            } );\n            this.setButtonWidth();\n        },\n        methods: {\n            setButtonWidth() {\n                if( this.$refs.submitButton && !this.submissionInfo ) {\n                    this.$refs.submitButton.style.width = 'auto';\n                    if( this.$refs.submitButton.style.width > 0 ) {\n                        this.buttonWidth = this.$refs.submitButton.clientWidth;\n                        this.$refs.submitButton.style.width = this.buttonWidth+'px';\n                    }\n                }\n            },\n            submit() {\n                this.$emit('click');\n            },\n            focus(){\n                console.log('focus');\n                this.$refs.submitButton.focus();\n            }\n        },\n    }\n</script>\n\n<style lang=\"scss\">\n\n    @import '@/styles/theme.scss';\n    @import '@/styles/shared/variables.scss';\n\n    .button-primary.submit-button {\n        position: relative;\n        overflow: hidden;\n\n        transition: all $transition-duration-short $transition-timing-function;\n\n        .button-group {\n            margin: 0;\n            height: 100%;\n\n            position: absolute;\n            top: 0;\n            right: 0;\n\n            opacity: 0;\n\n            .button {\n                margin: 0;\n            }\n\n            .info {\n                height: 100%;\n                line-height: 40px;\n            }\n        }\n\n\n        &.showInfoMessage {\n\n            background-color: $color-success;\n            &:active, &:focus {\n                background-color: $color-success;\n            }\n\n            span {\n                opacity: 0;\n            }\n\n            &:disabled {\n                pointer-events: none;\n                opacity: 1;\n            }\n\n            .button-group {\n\n                opacity: 1;\n\n                .button {\n                    background-color: transparent;\n                }\n\n            }\n        }\n    }\n\n\n    @media only screen and (min-width: $viewport-tablet-portrait) {\n\n\n        .button-primary.submit-button {\n            .button-group {\n                .info {\n                    line-height: 48px;\n                }\n            }\n        }\n\n\n    }\n\n</style>\n"]}]}